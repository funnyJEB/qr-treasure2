<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>QR ë³´ë¬¼ì°¾ê¸° v12</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>

    <style>
        /* [ìŠ¤íƒ€ì¼ ì •ì˜] */
        :root {
            --primary: #4CAF50;
            --secondary: #FF9800;
            --danger: #FF5722;
            --bg: #F0F9F0;
            --text: #333;
        }
        body {
            font-family: 'Gamja Flower', sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 0;
            color: var(--text);
            text-align: center;
            user-select: none; /* í…ìŠ¤íŠ¸ ì„ íƒ ë°©ì§€ (ì•±ì²˜ëŸ¼ ë³´ì´ê²Œ) */
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* 1. ì‹œì‘ í™”ë©´ */
        #start-screen {
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .main-img { width: 80%; max-height: 300px; object-fit: cover; border-radius: 20px; margin: 20px 0; }

        /* 2. ê²Œì„ í™”ë©´ */
        #game-screen { display: none; padding: 20px; padding-bottom: 60px; }
        #reader { width: 100%; border-radius: 15px; overflow: hidden; background: #000; margin-bottom: 20px; }

        /* ìƒë‹¨ ëª©í‘œ êµ¬ì—­ (ì„ ë¬¼ìƒì) */
        .goal-area {
            background: #fff8e1;
            border: 2px dashed var(--secondary);
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        .goal-area:active { transform: scale(0.98); }
        .goal-icon { font-size: 3rem; }
        .goal-info { text-align: left; }
        .goal-title { font-size: 1.2rem; margin: 0; color: #d35400; font-weight: bold; }
        .goal-progress { font-size: 0.9rem; color: #666; margin-top: 2px; }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0% { transform: rotate(0deg); } 25% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); } 75% { transform: rotate(-5deg); } 100% { transform: rotate(0deg); }
        }
        .unlocked-anim { animation: shake 0.5s infinite; border-color: #27ae60 !important; background: #e8f8f5 !important; }

        /* ê°€ë°© (ì¸ë²¤í† ë¦¬) */
        .bag-container { background: #eee; border-radius: 15px; padding: 15px; }
        .grid-box { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 10px;}
        .item-slot {
            aspect-ratio: 1/1; background: white; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer; position: relative;
        }
        .item-slot.locked { color: #ccc; background: #ddd; cursor: default; }
        .item-check { position: absolute; bottom: -5px; right: -5px; font-size: 1rem; }

        /* 3. íŒì—… */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 999; display: none;
            align-items: center; justify-content: center;
        }
        .modal-box {
            background: white; width: 85%; max-width: 400px;
            border-radius: 20px; padding: 25px; text-align: center;
            position: relative; max-height: 85vh; overflow-y: auto;
        }
        .image-scroll-box {
            display: flex; flex-direction: column; gap: 10px; margin: 15px 0;
            max-height: 250px; overflow-y: auto; border-radius: 10px;
        }
        .reward-img { width: 100%; border-radius: 10px; }
        .btn {
            background: var(--primary); color: white; border: none;
            padding: 12px 30px; font-size: 1.2rem; border-radius: 50px;
            cursor: pointer; font-family: 'Gamja Flower', sans-serif; margin-top: 10px; width: 100%;
        }
        .btn-secondary { background: var(--secondary); }
        .btn-danger { background: var(--danger); margin-top: 5px; font-size: 1rem; padding: 8px 20px;}
        
        input[type="text"] {
            width: 80%; padding: 10px; font-size: 1.1rem;
            border: 2px solid #ddd; border-radius: 10px; margin: 10px 0; text-align: center;
        }

        /* ê´€ë¦¬ì ë²„íŠ¼ */
        .admin-btn {
            margin-top: 30px;
            background: none; border: 1px solid #ccc; color: #999;
            padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; cursor: pointer;
        }

        /* í† ìŠ¤íŠ¸ ë©”ì‹œì§€ (Alert ëŒ€ì²´ìš©) */
        #toast {
            visibility: hidden; min-width: 250px; background-color: #333; color: #fff;
            text-align: center; border-radius: 50px; padding: 16px; position: fixed;
            z-index: 1000; left: 50%; bottom: 30px; transform: translateX(-50%);
            font-size: 1rem; opacity: 0; transition: opacity 0.3s;
        }
        #toast.show { visibility: visible; opacity: 1; }
    </style>
</head>
<body>

<div class="container">
    
    <div id="start-screen">
        <h1 id="title-text" style="font-size: 2.5rem; margin-bottom: 10px;">ë¡œë”©ì¤‘...</h1>
        <p id="subtitle-text" style="font-size: 1.2rem; color: #666;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
        <img id="intro-img" class="main-img" src="" alt="Intro">
        <p id="intro-desc" style="white-space: pre-wrap;">ì„¤ëª…ê¸€ ë¡œë”©ì¤‘...</p>
        <button class="btn" onclick="Game.start()">ëª¨í—˜ ì´ì–´í•˜ê¸° / ì‹œì‘ â–¶</button>
        
        <p style="font-size: 0.8rem; color: #aaa; margin-top: 30px;">
            QR URL: <span id="site-url-text"></span>
        </p>
    </div>

    <div id="game-screen">
        
        <div id="final-goal" class="goal-area" onclick="Game.checkFinalStatus()">
            <div id="final-icon" class="goal-icon">ğŸ</div>
            <div class="goal-info">
                <div id="final-title" class="goal-title">ìµœì¢… ë³´ë¬¼ìƒì</div>
                <div id="final-progress" class="goal-progress">ì—´ì‡  ëª¨ìœ¼ëŠ” ì¤‘... (0/0)</div>
            </div>
        </div>

        <div style="text-align: left; font-weight: bold; margin-bottom: 5px;">ğŸ“· QR ìŠ¤ìº”</div>
        <div id="reader"></div>
        <p id="scan-status" style="font-size: 0.9rem; color:#666;">ì¹´ë©”ë¼ë¥¼ ë¬¼ì²´ì— ê°€ê¹Œì´ ëŒ€ì„¸ìš”</p>

        <div class="bag-container">
            <div style="font-weight: bold; margin-bottom: 5px;">ğŸ’ ë‚˜ì˜ ê°€ë°©</div>
            <div id="inventory-grid" class="grid-box"></div>
        </div>

        <button class="admin-btn" onclick="Admin.openMenu()">âš™ï¸ ê´€ë¦¬ì ì„¤ì •</button>
    </div>

    <div id="modal" class="modal-overlay">
        <div class="modal-box">
            <button class="btn-secondary" style="position:absolute; top:10px; right:10px; padding:5px 10px; font-size:1rem; width:auto;" onclick="Popup.close()">âœ–</button>
            <div id="modal-content"></div>
        </div>
    </div>
    
    <div id="toast">ë©”ì‹œì§€</div>

</div>

<script>
/**
 * ============================================================================
 * ğŸ› ï¸ [gameConfig] ì„¤ì • ì˜ì—­
 * ============================================================================
 */
const gameConfig = {
    // 1. ê¸°ë³¸ ì„¤ì •
    meta: {
        title: "ğŸ•µï¸â€â™€ï¸ í•™êµ ë³´ë¬¼ì°¾ê¸° v12",
        subTitle: "ì¹œêµ¬ë“¤ì„ ëª¨ë‘ ì°¾ì•„ ì„ ë¬¼ìƒìë¥¼ ì—´ì–´ë³´ì„¸ìš”!",
        siteUrl: "https://teacher.github.io/qr-game", 
        introImage: "https://images.unsplash.com/photo-1596495578065-6e0763fa1178?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
        introDesc: "í•™êµ ê³³ê³³ì— ìˆ¨ê²¨ì§„ QRì½”ë“œë¥¼ ì°¾ì•„ë³´ì„¸ìš”.\nìƒˆë¡œê³ ì¹¨í•´ë„ ì°¾ì€ ê¸°ë¡ì€ ìœ ì§€ë©ë‹ˆë‹¤!",
        
        // í€´ì¦ˆ ë©”ì‹œì§€ (í™”ë©´ ì•„ë˜ì— ì ì‹œ ë–´ë‹¤ ì‚¬ë¼ì§)
        msgCorrect: "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰",
        msgWrong: "í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”. ğŸ˜…",
        msgAlreadyFound: "ì´ë¯¸ ì°¾ì€ ë³´ë¬¼ì…ë‹ˆë‹¤!"
    },

    // 2. ìµœì¢… ë³´ìƒ (ëª¨ë‘ ëª¨ì•˜ì„ ë•Œ)
    finalReward: {
        icon: "ğŸ”“", // ì—´ë ¸ì„ ë•Œ ì•„ì´ì½˜
        title: "ì¶•í•˜í•©ë‹ˆë‹¤!",
        images: ["https://cdn-icons-png.flaticon.com/512/2855/2855523.png"], 
        desc: "ëª¨ë“  ë¯¸ì…˜ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!\nì„ ìƒë‹˜ê»˜ ì´ í™”ë©´ì„ ë³´ì—¬ì£¼ì„¸ìš”."
    },

    // 3. QRì½”ë“œ ë°ì´í„° (IDëŠ” 'cat', 'ball' ë“± ë‹¨ì–´ ì‚¬ìš©)
    qrData: {
        "cat": {
            icon: "ğŸ¦",
            name: "ì‚¬ì",
            quiz: {
                active: true,
                question: "ë°±ìˆ˜ì˜ ì™•ì´ë¼ ë¶ˆë¦¬ëŠ” ë™ë¬¼ì€?",
                answers: ["ì‚¬ì", "lion"]
            },
            reward: {
                images: ["https://cdn-icons-png.flaticon.com/512/616/616408.png"],
                desc: "ì‚¬ìë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!"
            }
        },
        "ball": {
            icon: "âš½",
            name: "ì¶•êµ¬ê³µ",
            quiz: {
                active: true,
                question: "ì†í¥ë¯¼ ì„ ìˆ˜ì˜ ë“±ë²ˆí˜¸ëŠ”?",
                answers: ["7", "7ë²ˆ"]
            },
            reward: {
                images: [],
                desc: "ì¶•êµ¬ê³µì„ ì°¾ì•˜ìŠµë‹ˆë‹¤!"
            }
        },
        "star": {
            icon: "â­",
            name: "ë³„",
            quiz: { active: false },
            reward: {
                images: [],
                desc: "ë³„ì„ íšë“í–ˆìŠµë‹ˆë‹¤!"
            }
        }
    }
};

/**
 * ============================================================================
 * ğŸš€ [ì‹œìŠ¤í…œ ë¡œì§]
 * ============================================================================
 */
const STORAGE_KEY = "qr_treasure_v12_save"; // ì €ì¥ì†Œ í‚¤ ì´ë¦„

const Game = {
    foundItems: new Set(),
    totalItems: 0,
    scanner: null,
    isScanning: false,

    init: () => {
        // í…ìŠ¤íŠ¸ ì ìš©
        document.getElementById('title-text').innerText = gameConfig.meta.title;
        document.getElementById('subtitle-text').innerText = gameConfig.meta.subTitle;
        document.getElementById('intro-img').src = gameConfig.meta.introImage;
        document.getElementById('intro-desc').innerText = gameConfig.meta.introDesc;
        document.getElementById('site-url-text').innerText = gameConfig.meta.siteUrl;

        Game.totalItems = Object.keys(gameConfig.qrData).length;

        // â˜… [ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°]
        const savedData = localStorage.getItem(STORAGE_KEY);
        if (savedData) {
            const parsed = JSON.parse(savedData);
            parsed.forEach(id => {
                if(gameConfig.qrData[id]) Game.foundItems.add(id);
            });
        }
        
        Game.updateUI();
    },

    start: () => {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        
        // ì¹´ë©”ë¼ ì‹¤í–‰
        if(!Game.scanner) {
            Game.scanner = new Html5Qrcode("reader");
        }
        
        // ì¹´ë©”ë¼ ì„¤ì • (ëª¨ë°”ì¼ ìµœì í™”)
        const config = { 
            fps: 10, 
            qrbox: { width: 200, height: 200 },
            aspectRatio: 1.0 
        };
        
        Game.scanner.start({ facingMode: "environment" }, config, Game.onScan)
        .catch(err => {
            document.getElementById('scan-status').innerText = "ì¹´ë©”ë¼ ê¶Œí•œ ì˜¤ë¥˜: ìƒˆë¡œê³ ì¹¨ í•´ì£¼ì„¸ìš”.";
        });
        
        Game.isScanning = true;
    },

    onScan: (decodedText, decodedResult) => {
        if (!Game.isScanning) return;

        const id = decodedText.trim();
        const item = gameConfig.qrData[id];

        // 1. ìœ íš¨í•˜ì§€ ì•Šì€ ì½”ë“œ
        if (!item) { 
            Toast.show("ì•Œ ìˆ˜ ì—†ëŠ” QRì½”ë“œì…ë‹ˆë‹¤.");
            // ì˜ëª»ëœ ì½”ë“œ ìŠ¤ìº” ì‹œ ì ì‹œ ë©ˆì·„ë‹¤ ìë™ ì¬ê°œ (ì—°ì† ìŠ¤ìº” ë°©ì§€)
            Game.pauseScan();
            setTimeout(Game.resumeScan, 2000);
            return; 
        }

        // 2. ì´ë¯¸ ì°¾ì€ ì•„ì´í…œ
        if (Game.foundItems.has(id)) {
            Game.pauseScan();
            Toast.show(gameConfig.meta.msgAlreadyFound);
            setTimeout(Game.resumeScan, 1500);
            return;
        }

        // 3. ìƒˆë¡œìš´ ë°œê²¬
        Game.pauseScan(); // íŒì—… ë„ìš¸ ë™ì•ˆë§Œ ìŠ¤ìº” ì¤‘ì§€
        if (item.quiz && item.quiz.active) {
            Popup.showQuiz(id);
        } else {
            Game.getItem(id);
        }
    },

    getItem: (id) => {
        Game.foundItems.add(id);
        
        // â˜… [ë°ì´í„° ì €ì¥]
        localStorage.setItem(STORAGE_KEY, JSON.stringify([...Game.foundItems]));
        
        Game.updateUI();
        Popup.showReward(id, true);
    },

    updateUI: () => {
        // ê°€ë°© ì—…ë°ì´íŠ¸
        const grid = document.getElementById('inventory-grid');
        grid.innerHTML = "";
        Object.keys(gameConfig.qrData).forEach(key => {
            const item = gameConfig.qrData[key];
            const isFound = Game.foundItems.has(key);
            
            const slot = document.createElement('div');
            slot.className = `item-slot ${isFound ? '' : 'locked'}`;
            slot.innerText = isFound ? item.icon : ""; // ëª» ì°¾ì•˜ìœ¼ë©´ ë¹ˆì¹¸
            
            if (!isFound) {
                // ì ê¹€ ì•„ì´ì½˜ (ì‘ê²Œ)
                slot.innerHTML = `<span style="font-size:1rem; opacity:0.5;">â“</span>`;
            } else {
                // ì°¾ìŒ ì²´í¬ í‘œì‹œ
                slot.innerHTML += `<span class="item-check">âœ…</span>`;
                slot.onclick = () => { Game.pauseScan(); Popup.showReward(key, false); };
            }
            grid.appendChild(slot);
        });

        // ìƒë‹¨ ëª©í‘œì°½ ì—…ë°ì´íŠ¸
        const current = Game.foundItems.size;
        const total = Game.totalItems;
        const finalIcon = document.getElementById('final-icon');
        const finalTitle = document.getElementById('final-title');
        const finalProgress = document.getElementById('final-progress');
        const goalArea = document.getElementById('final-goal');

        if (current >= total) {
            finalIcon.innerText = gameConfig.finalReward.icon;
            finalTitle.innerText = "ìƒì ì—´ë¦¼! (í„°ì¹˜)";
            finalTitle.style.color = "#27ae60";
            finalProgress.innerText = "ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ì—´ì‡  íšë“!";
            goalArea.classList.add('unlocked-anim');
        } else {
            finalIcon.innerText = "ğŸ";
            finalTitle.innerText = "ìµœì¢… ë³´ë¬¼ìƒì";
            finalTitle.style.color = "#d35400";
            finalProgress.innerText = `ì—´ì‡  ëª¨ìœ¼ëŠ” ì¤‘... (${current}/${total})`;
            goalArea.classList.remove('unlocked-anim');
        }
    },

    checkFinalStatus: () => {
        if (Game.foundItems.size >= Game.totalItems) {
            Game.pauseScan();
            Popup.showFinalReward();
        } else {
            Toast.show(`ì•„ì§ ì—´ì‡ ê°€ ë¶€ì¡±í•´ìš”! (${Game.foundItems.size}/${Game.totalItems})`);
        }
    },

    pauseScan: () => { Game.isScanning = false; },
    resumeScan: () => { Game.isScanning = true; }
};

const Popup = {
    overlay: document.getElementById('modal'),
    content: document.getElementById('modal-content'),

    showQuiz: (id) => {
        const item = gameConfig.qrData[id];
        Popup.content.innerHTML = `
            <h2>ğŸ§© í€´ì¦ˆ!</h2>
            <p style="font-size:1.2rem; font-weight:bold;">${item.quiz.question}</p>
            <input type="text" id="quiz-input" placeholder="ì •ë‹µ ì…ë ¥" autocomplete="off">
            <br>
            <div id="quiz-msg" style="color:red; height:20px; font-size:0.9rem;"></div>
            <button class="btn" onclick="Popup.checkAnswer('${id}')">í™•ì¸</button>
        `;
        Popup.overlay.style.display = "flex";
        document.getElementById('quiz-input').focus();
    },

    checkAnswer: (id) => {
        const input = document.getElementById('quiz-input').value.trim().toLowerCase().replace(/\s+/g, '');
        const answers = gameConfig.qrData[id].quiz.answers.map(a => a.toLowerCase().replace(/\s+/g, ''));
        const msgBox = document.getElementById('quiz-msg');

        if (answers.includes(input)) {
            Toast.show(gameConfig.meta.msgCorrect);
            Game.getItem(id);
        } else {
            // Alert ëŒ€ì‹  í™”ë©´ ë‚´ ë©”ì‹œì§€ ì‚¬ìš© (ì¹´ë©”ë¼ ë©ˆì¶¤ ë°©ì§€)
            msgBox.innerText = gameConfig.meta.msgWrong;
            document.getElementById('quiz-input').value = "";
            document.getElementById('quiz-input').focus();
            
            // í‹€ë ¸ì„ ë•Œë„ ì ê¹ ì§„ë™ íš¨ê³¼
            const inputEl = document.getElementById('quiz-input');
            inputEl.style.borderColor = "red";
            setTimeout(() => inputEl.style.borderColor = "#ddd", 500);
        }
    },

    showReward: (id, isNew) => {
        const item = gameConfig.qrData[id];
        let imgHtml = "";
        if (item.reward.images && item.reward.images.length > 0) {
            imgHtml = `<div class="image-scroll-box">` + 
                item.reward.images.map(url => `<img src="${url}" class="reward-img">`).join('') + `</div>`;
        }

        Popup.content.innerHTML = `
            <div style="font-size:4rem;">${item.icon}</div>
            <h2>${item.name}</h2>
            ${imgHtml}
            <div style="background:#f9f9f9; padding:10px; border-radius:10px; text-align:left; white-space: pre-wrap;">${item.reward.desc}</div>
            <button class="btn btn-secondary" onclick="Popup.closeAndCheckClear()">í™•ì¸</button>
            ${!isNew ? `<button class="btn btn-danger" onclick="Admin.deleteItem('${id}')" style="display:none;" id="admin-del-btn">ê´€ë¦¬ì: íšë“ ì·¨ì†Œ</button>` : ''}
        `;
        Popup.overlay.style.display = "flex";
        
        // ê´€ë¦¬ì ëª¨ë“œì¼ ë•Œë§Œ ì‚­ì œ ë²„íŠ¼ ë³´ì´ê¸°
        if(Admin.isAdmin && !isNew) document.getElementById('admin-del-btn').style.display = "block";
    },

    showFinalReward: () => {
        const final = gameConfig.finalReward;
        let imgHtml = "";
        if (final.images && final.images.length > 0) {
            imgHtml = `<div class="image-scroll-box">` + 
                final.images.map(url => `<img src="${url}" class="reward-img">`).join('') + `</div>`;
        }
        Popup.content.innerHTML = `
            <div style="font-size:4rem;">${final.icon}</div>
            <h2 style="color:#27ae60;">${final.title}</h2>
            ${imgHtml}
            <div style="background:#e8f8f5; padding:15px; border-radius:10px; text-align:left; white-space: pre-wrap; font-weight:bold;">${final.desc}</div>
            <button class="btn" onclick="Popup.close()">ë‹«ê¸°</button>
        `;
        Popup.overlay.style.display = "flex";
    },

    closeAndCheckClear: () => {
        Popup.close();
        if (Game.foundItems.size === Game.totalItems) {
            setTimeout(() => {
                Toast.show("ğŸ‰ ëª¨ë“  ë¯¸ì…˜ ì™„ë£Œ!");
                Popup.showFinalReward();
            }, 600);
        }
    },

    close: () => {
        Popup.overlay.style.display = "none";
        Game.resumeScan();
    }
};

const Toast = {
    show: (message) => {
        const toast = document.getElementById("toast");
        toast.className = "show";
        toast.innerText = message;
        setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
    }
};

/**
 * ============================================================================
 * âš™ï¸ [ê´€ë¦¬ì ëª¨ë“œ]
 * ============================================================================
 */
const Admin = {
    isAdmin: false,
    
    openMenu: () => {
        const password = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ê¸°ë³¸: 1234)");
        if (password === "1234") {
            Admin.isAdmin = true;
            const action = prompt("ì›í•˜ëŠ” ì‘ì—…ì„ ì„ íƒí•˜ì„¸ìš”:\n1. ê²Œì„ ì´ˆê¸°í™” (ëª¨ë“  ê¸°ë¡ ì‚­ì œ)\n2. ì·¨ì†Œ");
            
            if (action === "1") {
                if(confirm("ì •ë§ ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•˜ê³  ì²˜ìŒë¶€í„° ì‹œì‘í•©ë‹ˆê¹Œ?")) {
                    localStorage.removeItem(STORAGE_KEY);
                    location.reload();
                }
            } else {
                alert("ê´€ë¦¬ì ëª¨ë“œê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ì œ ê°€ë°©ì—ì„œ ì•„ì´í…œì„ ëˆŒëŸ¬ 'ì‚­ì œ'í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
            }
        } else {
            if(password !== null) alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
        }
    },

    deleteItem: (id) => {
        if(confirm("ì´ ì•„ì´í…œ íšë“ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            Game.foundItems.delete(id);
            localStorage.setItem(STORAGE_KEY, JSON.stringify([...Game.foundItems]));
            Game.updateUI();
            Popup.close();
            Toast.show("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
        }
    }
};

// ì‹œì‘
document.addEventListener("DOMContentLoaded", Game.init);
</script>
</body>
</html>
